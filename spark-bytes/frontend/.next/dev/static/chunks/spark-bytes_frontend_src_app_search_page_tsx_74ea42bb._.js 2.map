{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/karachionwuanibe/Desktop/cs~391/projects/cs391-project2/cs391-project/spark-bytes/frontend/src/app/search/page.tsx"],"sourcesContent":["\"use client\";\nimport Link from \"next/link\";\nimport { useEffect, useState } from \"react\";\nimport { supabase } from \"@/lib/supabaseClient\";\nfunction formatTime(timeString: string) {\n  if (!timeString) return \"\";\n\n  const [hourStr, minuteStr] = timeString.split(\":\");\n  let hour = parseInt(hourStr);\n  const minute = parseInt(minuteStr);\n\n  const ampm = hour >= 12 ? \"PM\" : \"AM\";\n  hour = hour % 12;\n  if (hour === 0) hour = 12; // convert 0 → 12 AM\n\n  return `${hour}:${minute.toString().padStart(2, \"0\")} ${ampm}`;\n}\n\n\ntype FoodItem = {\n  name: string;\n  quantity: string;\n};\n\ntype EventType = {\n  id: number;\n  title: string;\n  location: string;\n  event_date: string;\n  event_time: string;\n  food_items: FoodItem[];\n  organizer_email: string;\n};\n\nexport default function SearchPage() {\n  const [events, setEvents] = useState<EventType[]>([]);\n  const [filtered, setFiltered] = useState<EventType[]>([]);\n  const [query, setQuery] = useState(\"\");\n\n  // Load events\n  useEffect(() => {\n    async function loadEvents() {\n      const { data, error } = await supabase\n        .from(\"events\")\n        .select(\"*\")\n        .order(\"created_at\", { ascending: false });\n\n      if (error) {\n        console.error(error);\n        return;\n      }\n\n      setEvents(data as EventType[]);\n      setFiltered(data as EventType[]);\n    }\n\n    loadEvents();\n  }, []);\n\n\n  const handleSearch = async () => {\n  const { data, error } = await supabase\n    .from(\"events\")\n    .select(\"*\")\n    .or(`title.ilike.%${query}%,location.ilike.%${query}%`)\n    .order(\"created_at\", { ascending: false });\n\n  if (error) {\n    console.error(error);\n    return;\n  }\n\n  setFiltered(data || []);\n};\n\n\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-100 via-white to-teal-100 flex flex-col\">\n      \n      {/* Search Section */}\n      <section className=\"flex flex-col items-center justify-center flex-grow px-4\">\n        <h1 className=\"text-3xl font-semibold mb-6 text-center\">\n          Search Spark!Bytes Events\n        </h1>\n  \n        {/* Search Bar */}\n        <div className=\"flex w-full max-w-md mb-6\">\n          <input\n            type=\"text\"\n            placeholder=\"Search by name, location...\"\n            value={query}\n            onChange={(e) => setQuery(e.target.value)}\n            className=\"flex-grow border border-gray-300 rounded-l-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-teal-500\"\n          />\n          <button\n            onClick={handleSearch}\n            className=\"bg-teal-600 text-white px-4 py-2 rounded-r-lg hover:bg-teal-700\"\n          >\n            Search\n          </button>\n        </div>\n  \n        {/* Events Grid */}\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 w-full max-w-4xl mt-10\">\n  \n          {filtered.length === 0 && (\n            <p className=\"text-gray-600 text-center w-full col-span-full\">\n              No events found.\n            </p>\n          )}\n  \n          {filtered.map((event) => (\n            <Link key={event.id} href={`/events/${event.id}`}>\n              <div className=\"bg-white shadow-md border border-gray-300 rounded-xl p-5 cursor-pointer hover:shadow-lg transition\">\n                \n                {/* Title */}\n                <h3 className=\"text-xl font-semibold mb-2\">{event.title}</h3>\n  \n                {/* Location */}\n                <p className=\"text-gray-700\">\n                  <strong>Location:</strong> {event.location}\n                </p>\n  \n                {/* Date */}\n                <p className=\"text-gray-700\">\n                  <strong>Date:</strong> {event.event_date}\n                </p>\n  \n                {/* Time */}\n                <p className=\"text-gray-700\">\n                  <strong>Time:</strong> {formatTime(event.event_time)}\n                </p>\n  \n                {/* Food List */}\n                <p className=\"text-gray-700\">\n                  <strong>Food:</strong>\n                </p>\n                <ul className=\"ml-4 list-disc text-gray-700\">\n                  {event.food_items?.map((item: any, index: number) => (\n                    <li key={index}>\n                      {item.name} — {item.quantity} left\n                    </li>\n                  ))}\n                </ul>\n  \n              </div>\n            </Link>\n          ))}\n        </div>\n      </section>\n\n      <footer className=\"bg-black text-white text-center text-sm py-6 px-4 mt-auto\">\n        <p>\n          Boston University Center of Computing & Data Sciences: Duan Family Spark! Initiative\n        </p>\n        <p>665 Commonwealth Ave., Boston, MA 02215 | Floor 2, Spark! Space</p>\n        <p>buspark@bu.edu</p>\n      </footer>\n  \n    </div>\n  );\n}"],"names":["c","_c","Link","useEffect","useState","supabase","formatTime","timeString","hourStr","minuteStr","split","hour","parseInt","minute","ampm","toString","padStart","FoodItem","name","quantity","EventType","id","title","location","event_date","event_time","food_items","organizer_email","SearchPage","$","$i","Symbol","for","t0","setEvents","t1","filtered","setFiltered","query","setQuery","t2","t3","SearchPage[useEffect()]","loadEvents","data","error","from","select","order","ascending","console","t4","SearchPage[handleSearch]","data_0","error_0","or","handleSearch","t5","t6","e","target","value","t7","t8","t9","t10","length","t11","map","_SearchPageFilteredMap","t12","t13","t14","t15","event","_SearchPageFilteredMapAnonymous","item","index"],"mappings":"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","ignoreList":[],"debugId":null}}]
}