{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/reneetsui/Desktop/391%20project/cs391-project/spark-bytes/frontend/src/app/events/%5Bid%5D/map_component.tsx"],"sourcesContent":["// src/components/EventMap.tsx\n\n\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { GoogleMap, Marker, useLoadScript } from \"@react-google-maps/api\";\n\ntype EventMapProps = {\n  location: string;\n};\n\nconst containerStyle = {\n  width: \"100%\",\n  height: \"300px\",\n  borderRadius: \"0.75rem\",\n};\n\n// default location in case of geocoding failure (BU CDS building)\nconst DEFAULT_CENTER = { lat: 42.3500229, lng: -71.1031113 };\n\nexport default function EventMap({ location }: EventMapProps) {\n  const [coords, setCoords] = useState<{ lat: number; lng: number } | null>(null);\n\n  const { isLoaded, loadError } = useLoadScript({\n  googleMapsApiKey: process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY!,\n});\n\n  // geocode the location string into coordinates\n  useEffect(() => {\n    async function geocode() {\n      const trimmed = location.trim();\n\n      const url = `https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(\n        trimmed\n      )}&key=${process.env.NEXT_PUBLIC_GOOGLE_GEOCODING_API_KEY}`;\n\n      try {\n        console.log(\"Geocoding request for:\", trimmed, url);\n\n        const res = await fetch(url);\n        const data = await res.json();\n\n        console.log(\"Geocoding response:\", data);\n\n        if (data.status === \"OK\" && data.results?.length > 0) {\n          const { lat, lng } = data.results[0].geometry.location;\n          setCoords({ lat, lng });\n        } else {\n          console.warn(\n            \"Location not found â€” using fallback coordinates. Status:\",\n            data.status,\n            \"Error message:\",\n            data.error_message\n          );\n          setCoords(DEFAULT_CENTER);\n        }\n      } catch (err) {\n        console.error(\"Geocoding error:\", err);\n        setCoords(DEFAULT_CENTER);\n      }\n    }\n\n    if (location) {\n      geocode();\n    }\n  }, [location]);\n\n  if (loadError) return <p>Map failed to load.</p>;\n  if (!isLoaded) return <p>Loading map library...</p>;\n  if (!coords) return <p>Finding location...</p>;\n\n  return (\n    <GoogleMap mapContainerStyle={containerStyle} center={coords} zoom={15}>\n      <Marker position={coords} />\n    </GoogleMap>\n  );\n}\n"],"names":["useEffect","useState","GoogleMap","Marker","useLoadScript","EventMapProps","location","containerStyle","width","height","borderRadius","DEFAULT_CENTER","lat","lng","EventMap","coords","setCoords","isLoaded","loadError","googleMapsApiKey","process","env","NEXT_PUBLIC_GOOGLE_MAPS_API_KEY","geocode","trimmed","trim","url","encodeURIComponent","NEXT_PUBLIC_GOOGLE_GEOCODING_API_KEY","console","log","res","fetch","data","json","status","results","length","geometry","warn","error_message","err","error"],"mappings":"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","ignoreList":[],"debugId":null}}]
}