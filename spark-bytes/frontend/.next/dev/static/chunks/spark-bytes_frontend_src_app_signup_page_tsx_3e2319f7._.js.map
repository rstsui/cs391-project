{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/reneetsui/Desktop/391%20project/cs391-project/spark-bytes/frontend/src/app/signup/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport { supabase } from \"@/lib/supabaseClient\";\n\nexport default function SignupPage() {\n  const router = useRouter();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirm, setConfirm] = useState(\"\");\n\n  const handleSignup = async () => {\n    if (!email.toLowerCase().endsWith(\"@bu.edu\")) {\n      alert(\"Please enter your BU email.\");\n      return;\n    }\n\n    if (password !== confirm) {\n      alert(\"Passwords do not match\");\n      return;\n    }\n\n    // 1. Create auth user\n    const { data, error } = await supabase.auth.signUp({\n      email,\n      password,\n    });\n\n    if (error) {\n      alert(error.message);\n      return;\n    }\n\n    const authUser = data.user;\n    if (!authUser) {\n      alert(\"Could not create account.\");\n      return;\n    }\n\n    // 2. Insert into profiles table\n    const { error: profileError } = await supabase.from(\"profiles\").insert({\n      id: authUser.id,\n      email: authUser.email,\n      role: \"user\", // default role\n    });\n\n    if (profileError) {\n      alert(\"Failed to create profile: \" + profileError.message);\n      console.error(profileError);\n      return;\n    }\n\n    alert(\"Account created! Check your email to verify.\");\n    router.push(\"/login\");\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-100 via-white to-teal-100 flex flex-col\">\n      <main className=\"flex flex-col items-center py-16\">\n        <div className=\"bg-gray-200 p-10 rounded-xl w-[350px] shadow\">\n          <h2 className=\"text-xl font-bold mb-6\">Sign up</h2>\n\n          <input\n            type=\"email\"\n            placeholder=\"BU Email\"\n            className=\"w-full p-2 rounded-md border mb-4\"\n            onChange={(e) => setEmail(e.target.value)}\n          />\n\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            className=\"w-full p-2 rounded-md border mb-4\"\n            onChange={(e) => setPassword(e.target.value)}\n          />\n\n          <input\n            type=\"password\"\n            placeholder=\"Confirm password\"\n            className=\"w-full p-2 rounded-md border mb-6\"\n            onChange={(e) => setConfirm(e.target.value)}\n          />\n\n          <p className=\"text-sm mb-4\">\n            Already have an account?{\" \"}\n            <Link className=\"underline\" href=\"/login\">Sign in</Link>\n          </p>\n\n          <button\n            onClick={handleSignup}\n            className=\"w-full bg-white py-2 rounded-md border border-black hover:bg-gray-100\"\n          >\n            Sign up\n          </button>\n        </div>\n      </main>\n\n      <footer className=\"bg-black text-white text-center py-10 mt-16\">\n        <p>\n          Boston University Center of Computing & Data Sciences:<br />\n          Duan Family Spark! Initiative<br />\n          665 Commonwealth Ave., Boston, MA 02215<br />\n          Floor 2, Spark! Space\n        </p>\n        <p className=\"mt-4\">buspark@bu.edu</p>\n      </footer>\n    </div>\n  );\n}\n"],"names":["c","_c","useState","Link","useRouter","supabase","SignupPage","$","$i","Symbol","for","router","email","setEmail","password","setPassword","confirm","setConfirm","t0","SignupPage[handleSignup]","toLowerCase","endsWith","alert","data","error","auth","signUp","message","authUser","user","profileError","from","insert","id","role","console","push","handleSignup","t1","t2","e","target","value","t3","e_0","t4","e_1","t5","t6","t7","t8","t9","t10"],"mappings":"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","ignoreList":[],"debugId":null}}]
}