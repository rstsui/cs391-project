{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/karachionwuanibe/Desktop/cs~391/projects/cs391-project2/cs391-project/spark-bytes/frontend/src/lib/supabaseClient.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\n\nexport const supabase = createClient(\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n);\n\nsupabase.auth.onAuthStateChange((event, session) => {\n  console.log(\"[Auth Event]\", event);\n  console.log(\"[Session]\", session);\n});\n"],"names":[],"mappings":";;;;AAGE;AAHF;;AAEO,MAAM,WAAW,IAAA,wOAAY;AAKpC,SAAS,IAAI,CAAC,iBAAiB,CAAC,CAAC,OAAO;IACtC,QAAQ,GAAG,CAAC,gBAAgB;IAC5B,QAAQ,GAAG,CAAC,aAAa;AAC3B","debugId":null}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///Users/karachionwuanibe/Desktop/cs~391/projects/cs391-project2/cs391-project/spark-bytes/frontend/src/lib/useSupabaseSession.ts"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { supabase } from \"./supabaseClient\";\nimport type { Session } from \"@supabase/supabase-js\";\n\nexport function useSupabaseSession() {\n  const [session, setSession] = useState<Session | null>(null);\n\n  useEffect(() => {\n    // Load initial session\n    supabase.auth.getSession().then((res) => {\n      setSession(res.data.session ?? null);\n    });\n\n    // Listen for login/logout events\n    const {\n      data: { subscription },\n    } = supabase.auth.onAuthStateChange(\n      (_event: string, session: Session | null) => {\n        setSession(session);\n      }\n    );\n\n    return () => subscription.unsubscribe();\n  }, []);\n\n  return session;\n}\n"],"names":["c","_c","useEffect","useState","supabase","Session","useSupabaseSession","$","$i","Symbol","for","session","setSession","t0","t1","useSupabaseSession[useEffect()]","auth","getSession","then","res","data","t2","onAuthStateChange","useSupabaseSession[useEffect() > supabase.auth.onAuthStateChange()]","_event","session_0","subscription","unsubscribe"],"mappings":";;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAEb,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,QAAQ,QAAQ,kBAAkB;;AAH3C,YAAY;;;;AAML;;IAAA,MAAAG,CAAA,OAAAN,8MAAA,EAAA;IAAA,IAAAM,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IACL,MAAA,CAAAI,OAAA,EAAAC,UAAA,CAAA,GAA8BT,2MAAQ,EAAiB,IAAI,CAAC;IAAC,IAAAU,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAAP,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAEnDG,EAAA,GAAA,CAAA;YAAA,mCAAAE,CAAA;gBAERX,yKAAQ,CAAAY,IAAK,CAAAC,UAAW,CAAC,CAAC,CAAAC,IAAK,CAAC;oBAAA,oDAAAC,GAAA;wBAC9BP,UAAU,CAACO,GAAG,CAAAC,IAAK,CAAAT,OAAgB,IAAxB,IAAwB,CAAC;oBAAA;gBAAA,CAAA,CAAA,kDACrC,CAAC;gBAGF,MAAA,EAAAS,IAAA,EAAAC,EAAAA,EAAA,GAEIjB,yKAAQ,CAAAY,IAAK,CAAAM,iBAAkB,CACjC;oBAAA,uEAAAC,CAAAC,MAAA,EAAAC,SAAA;wBACEb,UAAU,CAACD,SAAO,CAAC;oBAAA;gBAAA,CAAA,CAAA,sEAEvB,CAAC;gBALO,MAAA,EAAAe,YAAAA,EAAA,GAAAL,EAAgB;gBAAA,OAOjB,IAAMK,YAAY,CAAAC,WAAY,CAAC,CAAC;YAAA;SAAA,CAAA,CAAA,kCACxC;QAAEb,EAAA,GAAA,EAAE;QAAAP,CAAA,CAAA,EAAA,GAAAM,EAAA;QAAAN,CAAA,CAAA,EAAA,GAAAO,EAAA;IAAA,OAAA;QAAAD,EAAA,GAAAN,CAAA,CAAA,EAAA;QAAAO,EAAA,GAAAP,CAAA,CAAA,EAAA;IAAA;QAhBLL,wMAAS,EAACW,EAgBT,EAAEC,EAAE,CAAC;IAAA,OAECH,OAAO;AAAA;GArBTL,mBAAA","ignoreList":[],"debugId":null}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///Users/karachionwuanibe/Desktop/cs~391/projects/cs391-project2/cs391-project/spark-bytes/frontend/src/app/navbar-client.tsx"],"sourcesContent":["\"use client\";\nimport { usePathname } from \"next/navigation\";\nimport Link from \"next/link\";\nimport { useSupabaseSession } from \"@/lib/useSupabaseSession\";\nimport { supabase } from \"@/lib/supabaseClient\"\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\n\nexport default function NavbarClient() {\n  const session = useSupabaseSession();\n  const router = useRouter();\n  const pathname = usePathname();\n\n  const [role, setRole] = useState<string | null>(null);\n  useEffect(() => {\n    async function loadRole() {\n      if (!session) return;\n\n      const { data } = await supabase\n        .from(\"profiles\")\n        .select(\"role\")\n        .eq(\"id\", session.user.id)\n        .single();\n\n      setRole(data?.role ?? null);\n    }\n    loadRole();\n  }, [session]);\n  const isActive = (path: string) =>\n    pathname === path ? \"underline font-semibold\" : \"hover:underline\";\n  useEffect(() => {\n    const {\n      data: { subscription },\n    } = supabase.auth.onAuthStateChange(() => {\n      router.refresh();\n    });\n\n    return () => subscription.unsubscribe();\n  }, [router]);\n  \n  return (\n    <nav className=\"bg-black text-white flex justify-between items-center px-8 py-4\">\n      <span className=\"font-semibold text-lg\">Spark!Bytes</span>\n\n      <div className=\"flex gap-6 items-center\">\n        <Link href=\"/\" className={isActive(\"/\")}>\n          Home\n        </Link>\n\n        <Link href=\"/search\" className={isActive(\"/search\")}>\n          Events\n        </Link>\n\n        {/* If logged in */}\n        {session && (\n          <>\n            <Link\n              href={role === \"admin\" ? \"/create_event\" : \"/request_access\"}\n              className={isActive(role === \"admin\" ? \"/create_event\" : \"/request_access\")}\n            >\n              Create Event\n            </Link>\n\n\n            <Link\n              href=\"/profile_reserve\"\n              className={isActive(\"/profile_reserve\")}\n            >\n              My Events\n            </Link>\n          </>\n        )}\n        {session && (\n        <Link\n            href=\"/profile_page\"\n            className={pathname === \"/profile_page\" ? \"underline font-semibold\" : \"\"}\n        >\n            Profile\n        </Link>\n        )}\n        {/* Admin-only: View pending access requests */}\n        {session && role === \"admin\" && (\n          <Link\n            href=\"/admin/requests\"\n            className={isActive(\"/admin/requests\")}\n          >\n            Admin Requests\n          </Link>\n        )}\n\n        {/* Auth link */}\n        {session ? (\n          <Link href=\"/log_out\" className={isActive(\"/log_out\")}>\n            Logout\n          </Link>\n        ) : (\n          <Link href=\"/login\" className={isActive(\"/login\")}>\n            Login\n          </Link>\n        )}\n      </div>\n    </nav>\n  );\n}"],"names":["c","_c","usePathname","Link","useSupabaseSession","supabase","useEffect","useState","useRouter","NavbarClient","$","$i","Symbol","for","session","router","pathname","role","setRole","t0","t1","NavbarClient[useEffect()]","loadRole","data","from","select","eq","user","id","single","t2","path","isActive","t3","t4","t5","auth","onAuthStateChange","NavbarClient[useEffect() > supabase.auth.onAuthStateChange()]","refresh","subscription","unsubscribe","t6","t7","t8","t9","t10","t11","t12","t13","t14"],"mappings":"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","ignoreList":[],"debugId":null}}]
}