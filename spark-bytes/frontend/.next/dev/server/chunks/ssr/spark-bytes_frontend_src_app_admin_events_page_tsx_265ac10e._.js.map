{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ajoha/Downloads/cs391-project/cs391-project/spark-bytes/frontend/src/app/admin/events/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { supabase } from \"@/lib/supabaseClient\";\r\n\r\ntype FoodItem = {\r\n  name: string;\r\n  quantity: string; // keep as string because your DB stores jsonb; convert where needed\r\n};\r\n\r\ntype EventType = {\r\n  id: number;\r\n  title: string;\r\n  location: string;\r\n  event_date: string;\r\n  event_time: string;\r\n  food_items: FoodItem[];\r\n  organizer_email: string;\r\n  status?: string;\r\n};\r\n\r\nexport default function AdminEventsPage() {\r\n  const router = useRouter();\r\n  const [authorized, setAuthorized] = useState(false);\r\n  const [events, setEvents] = useState<EventType[]>([]);\r\n\r\n  // RSVPs for admin's events\r\n  const [rsvps, setRsvps] = useState<any[]>([]);\r\n  // map to toggle showing RSVPs per event\r\n  const [showRsvpsMap, setShowRsvpsMap] = useState<Record<number, boolean>>({});\r\n\r\n  // Edit modal state\r\n  const [editingEvent, setEditingEvent] = useState<EventType | null>(null);\r\n  const [editTitle, setEditTitle] = useState(\"\");\r\n  const [editLocation, setEditLocation] = useState(\"\");\r\n  const [editDate, setEditDate] = useState(\"\");\r\n  const [editTime, setEditTime] = useState(\"\");\r\n  const [editFoodItems, setEditFoodItems] = useState<FoodItem[]>([]);\r\n\r\n  // Load events created by this admin, then load RSVPs for those events\r\n  const loadAdminEvents = async (userId: string) => {\r\n    const { data, error } = await supabase\r\n      .from(\"events\")\r\n      .select(\"*\")\r\n      .eq(\"host_id\", userId)\r\n      .order(\"created_at\", { ascending: false });\r\n\r\n    if (error) {\r\n      console.error(error);\r\n      return;\r\n    }\r\n\r\n    const eventsData = (data as EventType[]) || [];\r\n    setEvents(eventsData);\r\n\r\n    // If there are events, load RSVPs for those event IDs\r\n    const eventIds = eventsData.map((e) => e.id);\r\n    if (eventIds.length > 0) {\r\n      const { data: rsvpData, error: rsvpError } = await supabase\r\n        .from(\"rsvps\")\r\n        .select(\"*, rsvp_items(*)\")\r\n        .in(\"event_id\", eventIds);\r\n\r\n      if (rsvpError) {\r\n        console.error(\"Failed to load RSVPs:\", rsvpError);\r\n        setRsvps([]);\r\n      } else {\r\n        setRsvps(rsvpData || []);\r\n      }\r\n    } else {\r\n      setRsvps([]);\r\n    }\r\n  };\r\n\r\n  // SECURITY CHECK: ADMIN ONLY\r\n  useEffect(() => {\r\n    async function checkRole() {\r\n      const { data: { user } } = await supabase.auth.getUser();\r\n\r\n      if (!user) {\r\n        router.push(\"/login\");\r\n        return;\r\n      }\r\n\r\n      const { data: profile } = await supabase\r\n        .from(\"profiles\")\r\n        .select(\"role\")\r\n        .eq(\"id\", user.id)\r\n        .single();\r\n\r\n      if (profile?.role !== \"admin\") {\r\n        router.push(\"/request_access\");\r\n        return;\r\n      }\r\n\r\n      setAuthorized(true);\r\n      loadAdminEvents(user.id);\r\n    }\r\n\r\n    checkRole();\r\n  }, [router]);\r\n\r\n  // Delete event\r\n  const handleDelete = async (eventId: number) => {\r\n    if (!confirm(\"Delete this event? This cannot be undone.\")) return;\r\n    const { data: rsvpRows } = await supabase\r\n      .from(\"rsvps\")\r\n      .select(\"id\")\r\n      .eq(\"event_id\", eventId);\r\n  \r\n    const rsvpIds = rsvpRows?.map(r => r.id) || [];\r\n\r\n    if (rsvpIds.length > 0) {\r\n      await supabase.from(\"rsvp_items\").delete().in(\"rsvp_id\", rsvpIds);\r\n    }\r\n\r\n    await supabase.from(\"rsvps\").delete().eq(\"event_id\", eventId);\r\n\r\n    const { error } = await supabase.from(\"events\").delete().eq(\"id\", eventId);\r\n  \r\n    if (error) {\r\n      console.error(error);\r\n      alert(\"Failed to delete event\");\r\n      return;\r\n    }\r\n  \r\n    // 5. Update UI\r\n    setEvents(prev => prev.filter(e => e.id !== eventId));\r\n    setRsvps(prev => prev.filter(r => r.event_id !== eventId));\r\n  };\r\n  \r\n\r\n  // Cancel event (UPDATE status to cancelled)\r\n  const handleCancel = async (eventId: number) => {\r\n    if (!confirm(\"Are you sure you want to cancel this event?\")) return;\r\n\r\n    const { error } = await supabase\r\n      .from(\"events\")\r\n      .update({ status: \"cancelled\" })\r\n      .eq(\"id\", eventId);\r\n\r\n    if (error) {\r\n      alert(\"Failed to cancel event\");\r\n      return;\r\n    }\r\n\r\n    // Update UI immediately\r\n    setEvents((prev) => prev.map((e) => (e.id === eventId ? { ...e, status: \"cancelled\" } : e)));\r\n  };\r\n\r\n  // Format time to AM/PM\r\n  const formatTime = (timeString: string) => {\r\n    if (!timeString) return \"\";\r\n    const [hourStr, minuteStr] = timeString.split(\":\");\r\n    const hour = parseInt(hourStr || \"0\", 10);\r\n    const minute = parseInt(minuteStr || \"0\", 10);\r\n    const ampm = hour >= 12 ? \"PM\" : \"AM\";\r\n    let h = hour % 12;\r\n    if (h === 0) h = 12;\r\n    return `${h}:${minute.toString().padStart(2, \"0\")} ${ampm}`;\r\n  };\r\n\r\n  // ========== EDIT HELPERS ==========\r\n  const openEditModal = (event: EventType) => {\r\n    setEditingEvent(event);\r\n    setEditTitle(event.title || \"\");\r\n    setEditLocation(event.location || \"\");\r\n    setEditDate(event.event_date || \"\");\r\n    setEditTime(event.event_time || \"\");\r\n    // Deep copy food items to avoid mutating state directly\r\n    setEditFoodItems((event.food_items || []).map((f) => ({ name: f.name, quantity: String(f.quantity) })));\r\n  };\r\n\r\n  const closeEditModal = () => {\r\n    setEditingEvent(null);\r\n    setEditTitle(\"\");\r\n    setEditLocation(\"\");\r\n    setEditDate(\"\");\r\n    setEditTime(\"\");\r\n    setEditFoodItems([]);\r\n  };\r\n\r\n  const updateFoodItem = (index: number, field: \"name\" | \"quantity\", value: string) => {\r\n    setEditFoodItems((prev) => prev.map((it, i) => (i === index ? { ...it, [field]: value } : it)));\r\n  };\r\n\r\n  const addFoodItem = () => {\r\n    setEditFoodItems((prev) => [...prev, { name: \"\", quantity: \"0\" }]);\r\n  };\r\n\r\n  const removeFoodItem = (index: number) => {\r\n    setEditFoodItems((prev) => prev.filter((_, i) => i !== index));\r\n  };\r\n\r\n  // Submit edits to Supabase and update UI\r\n  const handleEditSubmit = async () => {\r\n    if (!editingEvent) return;\r\n\r\n    // Basic validation\r\n    if (!editTitle.trim()) {\r\n      alert(\"Title is required.\");\r\n      return;\r\n    }\r\n\r\n    // Normalize food items: ensure quantity are numbers (strings are okay in DB jsonb but normalize)\r\n    const normalizedFoodItems = editFoodItems.map((f) => ({\r\n      name: f.name,\r\n      quantity: isNaN(Number(f.quantity)) ? f.quantity : Number(f.quantity),\r\n    }));\r\n\r\n    // Update DB\r\n    const { error } = await supabase\r\n      .from(\"events\")\r\n      .update({\r\n        title: editTitle,\r\n        location: editLocation,\r\n        event_date: editDate,\r\n        event_time: editTime,\r\n        food_items: normalizedFoodItems,\r\n      })\r\n      .eq(\"id\", editingEvent.id);\r\n\r\n    if (error) {\r\n      console.error(\"Failed to update event:\", error);\r\n      alert(\"Failed to update event. Check console for details.\");\r\n      return;\r\n    }\r\n\r\n    // Update local UI state\r\n    setEvents((prev) =>\r\n      prev.map((ev) =>\r\n        ev.id === editingEvent.id\r\n          ? {\r\n              ...ev,\r\n              title: editTitle,\r\n              location: editLocation,\r\n              event_date: editDate,\r\n              event_time: editTime,\r\n              food_items: normalizedFoodItems as any,\r\n            }\r\n          : ev\r\n      )\r\n    );\r\n\r\n    alert(\"Event updated!\");\r\n    closeEditModal();\r\n  };\r\n\r\n  // Toggle showing RSVPs for a given event\r\n  const toggleShowRsvps = (eventId: number) => {\r\n    setShowRsvpsMap((prev) => ({ ...prev, [eventId]: !prev[eventId] }));\r\n  };\r\n\r\n  if (!authorized) return null;\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex flex-col bg-gradient-to-b from-white via-teal-50 to-teal-100\">\r\n      <section className=\"flex flex-col items-center px-4 py-8 flex-grow\">\r\n        <h1 className=\"text-3xl font-semibold mb-6\">Admin: Your Events</h1>\r\n\r\n        <div className=\"grid grid-cols-1 gap-6 w-full max-w-4xl\">\r\n          {events.length === 0 && (\r\n            <p className=\"text-gray-600 text-center w-full\">You haven&apos;t created any events yet.</p>\r\n          )}\r\n\r\n          {events.map((event) => (\r\n            <div key={event.id} className=\"bg-white shadow-md border rounded-xl p-5\">\r\n              <h3 className=\"text-xl font-semibold mb-2\">\r\n                {event.title} {event.status === \"cancelled\" && <span className=\"text-red-600\">(Cancelled)</span>}\r\n              </h3>\r\n\r\n              <p>\r\n                <strong>Date:</strong> {event.event_date}\r\n              </p>\r\n              <p>\r\n                <strong>Time:</strong> {formatTime(event.event_time)}\r\n              </p>\r\n              <p>\r\n                <strong>Location:</strong> {event.location}\r\n              </p>\r\n\r\n              <p className=\"mt-2\">\r\n                <strong>Food:</strong>\r\n              </p>\r\n              <ul className=\"ml-4 list-disc\">\r\n                {event.food_items?.map((item, i) => (\r\n                  <li key={i}>\r\n                    {item.name} — {item.quantity}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n\r\n              <div className=\"mt-4 flex gap-2\">\r\n  <button className=\"bg-blue-600 text-white px-3 py-1 rounded\" onClick={() => openEditModal(event)}>\r\n    Edit\r\n  </button>\r\n\r\n  <button className=\"bg-yellow-600 text-white px-3 py-1 rounded\" onClick={() => handleCancel(event.id)}>\r\n    Cancel\r\n  </button>\r\n\r\n  <button className=\"bg-red-600 text-white px-3 py-1 rounded\" onClick={() => handleDelete(event.id)}>\r\n    Delete\r\n  </button>\r\n\r\n\r\n\r\n  {/* NEW: Toggle inline RSVPs view */}\r\n  <button\r\n    className=\"bg-gray-200 text-gray-800 px-3 py-1 rounded\"\r\n    onClick={() => toggleShowRsvps(event.id)}\r\n  >\r\n    {showRsvpsMap[event.id] ? \"Hide RSVPs\" : \"Show RSVPs\"}\r\n  </button>\r\n</div>\r\n\r\n\r\n              {/* Inline RSVP list (admin view) */}\r\n              {showRsvpsMap[event.id] && (\r\n                <div className=\"mt-4 border-t pt-4\">\r\n                  <h4 className=\"font-semibold mb-2\">RSVPs</h4>\r\n\r\n                  {rsvps.filter((r) => r.event_id === event.id).length === 0 ? (\r\n                    <p className=\"text-sm text-gray-600\">No RSVPs yet.</p>\r\n                  ) : (\r\n                    <div className=\"space-y-2\">\r\n                      {rsvps\r\n                        .filter((r) => r.event_id === event.id)\r\n                        .map((r) => (\r\n                          <div key={r.id} className=\"bg-gray-50 p-3 rounded\">\r\n                          <div className=\"mt-2\">\r\n                            <strong>Items:</strong>\r\n                            <ul className=\"ml-4 list-disc\">\r\n                              {r.rsvp_items?.map((it: any) => (\r\n                                <li key={it.id}>\r\n                                  {it.food_item} — {it.quantity}\r\n                                </li>\r\n                              ))}\r\n                            </ul>\r\n                          </div>\r\n                            <p className=\"text-sm\"><strong>Qty:</strong> {r.quantity}</p>\r\n                          </div>\r\n                        ))}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </section>\r\n\r\n      {/* EDIT MODAL */}\r\n      {editingEvent && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 px-4\">\r\n          <div className=\"bg-white rounded-xl shadow-xl w-full max-w-2xl p-6\">\r\n            <h2 className=\"text-xl font-semibold mb-4\">Edit Event</h2>\r\n\r\n            {/* Title */}\r\n            <label className=\"block text-sm font-medium\">Title</label>\r\n            <input value={editTitle} onChange={(e) => setEditTitle(e.target.value)} className=\"border w-full px-3 py-2 rounded mb-3\" />\r\n\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              {/* Date */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium\">Date</label>\r\n                <input type=\"date\" value={editDate} onChange={(e) => setEditDate(e.target.value)} className=\"border w-full px-3 py-2 rounded mb-3\" />\r\n              </div>\r\n\r\n              {/* Time */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium\">Time</label>\r\n                <input type=\"time\" value={editTime} onChange={(e) => setEditTime(e.target.value)} className=\"border w-full px-3 py-2 rounded mb-3\" />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Location */}\r\n            <label className=\"block text-sm font-medium\">Location</label>\r\n            <input value={editLocation} onChange={(e) => setEditLocation(e.target.value)} className=\"border w-full px-3 py-2 rounded mb-3\" />\r\n\r\n            {/* Food items */}\r\n            <label className=\"block text-sm font-medium mt-2\">Food Items</label>\r\n            <div className=\"space-y-2 mt-2\">\r\n              {editFoodItems.map((item, index) => (\r\n                <div key={index} className=\"flex gap-2\">\r\n                  <input\r\n                    value={item.name}\r\n                    onChange={(e) => updateFoodItem(index, \"name\", e.target.value)}\r\n                    placeholder=\"Food name\"\r\n                    className=\"border px-3 py-2 rounded w-2/3\"\r\n                  />\r\n                  <input\r\n                    value={String(item.quantity)}\r\n                    onChange={(e) => updateFoodItem(index, \"quantity\", e.target.value)}\r\n                    placeholder=\"Qty\"\r\n                    className=\"border px-3 py-2 rounded w-1/3\"\r\n                  />\r\n                  <button type=\"button\" onClick={() => removeFoodItem(index)} className=\"text-red-500 ml-1\">\r\n                    ✕\r\n                  </button>\r\n                </div>\r\n              ))}\r\n\r\n              <button type=\"button\" onClick={addFoodItem} className=\"text-teal-600 text-sm underline\">\r\n                + Add food item\r\n              </button>\r\n            </div>\r\n\r\n            {/* Controls */}\r\n            <div className=\"mt-6 flex justify-end gap-3\">\r\n              <button type=\"button\" onClick={closeEditModal} className=\"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300\">\r\n                Close\r\n              </button>\r\n              <button type=\"button\" onClick={handleEditSubmit} className=\"px-4 py-2 bg-teal-600 text-white rounded hover:bg-teal-700\">\r\n                Save Changes\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Footer */}\r\n      <footer className=\"bg-black text-white text-center text-sm py-6 px-4 mt-auto\">\r\n        <p>Boston University Center of Computing & Data Sciences: Duan Family Spark! Initiative</p>\r\n        <p>665 Commonwealth Ave., Boston, MA 02215 | Floor 2, Spark! Space</p>\r\n        <p>buspark@bu.edu</p>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}