{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ajoha/Downloads/cs391-project/cs391-project/spark-bytes/frontend/src/app/profile_page/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { supabase } from \"@/lib/supabaseClient\";\r\n\r\nexport default function ProfilePage() {\r\n  const [profile, setProfile] = useState<any>(null);\r\n  const [authUser, setAuthUser] = useState<any>(null);\r\n\r\n  useEffect(() => {\r\n    async function loadProfile() {\r\n      const { data: authData } = await supabase.auth.getUser();\r\n      if (!authData.user) return;\r\n\r\n      setAuthUser(authData.user);\r\n\r\n      const { data: profileData } = await supabase\r\n        .from(\"profiles\")\r\n        .select(\"email, role\")\r\n        .eq(\"id\", authData.user.id)\r\n        .single();\r\n\r\n      setProfile(profileData);\r\n    }\r\n\r\n    loadProfile();\r\n  }, []);\r\n\r\n  if (!profile || !authUser) return null;\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex flex-col bg-gradient-to-b from-white via-teal-50 to-teal-100 px-6 py-16\">\r\n      <div className=\"max-w-xl mx-auto bg-white border border-gray-200 shadow-lg rounded-2xl p-10\">\r\n        \r\n        {/* HEADER */}\r\n        <h1 className=\"text-2xl font-bold text-center mb-2\">\r\n          {profile.email}\r\n        </h1>\r\n\r\n        <p className=\"text-center text-gray-500 mb-1\">\r\n          Member since {new Date(authUser.created_at).toLocaleDateString()}\r\n        </p>\r\n\r\n        <div className=\"flex justify-center mt-3\">\r\n          <span\r\n            className={`px-3 py-1 rounded-full text-sm font-medium ${\r\n              profile.role === \"admin\"\r\n                ? \"bg-green-100 text-green-700 border border-green-300\"\r\n                : \"bg-gray-100 text-gray-700 border\"\r\n            }`}\r\n          >\r\n            {profile.role === \"admin\" ? \"Administrator\" : \"Standard User\"}\r\n          </span>\r\n        </div>\r\n\r\n        {/* ABOUT */}\r\n        <div className=\"mt-8 text-center text-gray-700\">\r\n          <p>\r\n            Welcome to Spark!Bytes â€” helping reduce food waste across campus.\r\n          </p>\r\n        </div>\r\n\r\n        {/* ACTION BUTTONS */}\r\n        <div className=\"mt-10 space-y-4\">\r\n          {profile.role === \"admin\" && (\r\n            <a\r\n              href=\"/admin/requests\"\r\n              className=\"block w-full text-center bg-black text-white py-2 rounded-lg hover:bg-gray-900\"\r\n            >\r\n              Admin Dashboard\r\n            </a>\r\n          )}\r\n\r\n          {profile.role !== \"admin\" && (\r\n            <a\r\n              href=\"/request_access\"\r\n              className=\"block w-full text-center bg-teal-600 text-white py-2 rounded-lg hover:bg-teal-700\"\r\n            >\r\n              Request Admin Access\r\n            </a>\r\n          )}\r\n\r\n          <a\r\n            href=\"/profile_reserve\"\r\n            className=\"block w-full text-center bg-gray-100 text-gray-800 py-2 rounded-lg hover:bg-gray-200\"\r\n          >\r\n            View My Events\r\n          </a>\r\n        </div>\r\n      </div>\r\n\r\n      {/* FOOTER */}\r\n      <footer className=\"bg-black text-white text-center text-sm py-6 px-4 mt-20\">\r\n        <p>Boston University Center of Computing & Data Sciences: Duan Family Spark! Initiative</p>\r\n        <p>665 Commonwealth Ave., Boston, MA 02215 | Floor 2, Spark! Space</p>\r\n        <p>buspark@bu.edu</p>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+OAAQ,EAAM;IAC5C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+OAAQ,EAAM;IAE9C,IAAA,gPAAS,EAAC;QACR,eAAe;YACb,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,MAAM,sKAAQ,CAAC,IAAI,CAAC,OAAO;YACtD,IAAI,CAAC,SAAS,IAAI,EAAE;YAEpB,YAAY,SAAS,IAAI;YAEzB,MAAM,EAAE,MAAM,WAAW,EAAE,GAAG,MAAM,sKAAQ,CACzC,IAAI,CAAC,YACL,MAAM,CAAC,eACP,EAAE,CAAC,MAAM,SAAS,IAAI,CAAC,EAAE,EACzB,MAAM;YAET,WAAW;QACb;QAEA;IACF,GAAG,EAAE;IAEL,IAAI,CAAC,WAAW,CAAC,UAAU,OAAO;IAElC,qBACE,4QAAC;QAAI,WAAU;;0BACb,4QAAC;gBAAI,WAAU;;kCAGb,4QAAC;wBAAG,WAAU;kCACX,QAAQ,KAAK;;;;;;kCAGhB,4QAAC;wBAAE,WAAU;;4BAAiC;4BAC9B,IAAI,KAAK,SAAS,UAAU,EAAE,kBAAkB;;;;;;;kCAGhE,4QAAC;wBAAI,WAAU;kCACb,cAAA,4QAAC;4BACC,WAAW,CAAC,2CAA2C,EACrD,QAAQ,IAAI,KAAK,UACb,wDACA,oCACJ;sCAED,QAAQ,IAAI,KAAK,UAAU,kBAAkB;;;;;;;;;;;kCAKlD,4QAAC;wBAAI,WAAU;kCACb,cAAA,4QAAC;sCAAE;;;;;;;;;;;kCAML,4QAAC;wBAAI,WAAU;;4BACZ,QAAQ,IAAI,KAAK,yBAChB,4QAAC;gCACC,MAAK;gCACL,WAAU;0CACX;;;;;;4BAKF,QAAQ,IAAI,KAAK,yBAChB,4QAAC;gCACC,MAAK;gCACL,WAAU;0CACX;;;;;;0CAKH,4QAAC;gCACC,MAAK;gCACL,WAAU;0CACX;;;;;;;;;;;;;;;;;;0BAOL,4QAAC;gBAAO,WAAU;;kCAChB,4QAAC;kCAAE;;;;;;kCACH,4QAAC;kCAAE;;;;;;kCACH,4QAAC;kCAAE;;;;;;;;;;;;;;;;;;AAIX","debugId":null}}]
}