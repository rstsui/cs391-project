{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/karachionwuanibe/Desktop/cs~391/projects/cs391-project2/cs391-project/spark-bytes/frontend/src/lib/supabaseClient.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\n\nexport const supabase = createClient(\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n);\n\nsupabase.auth.onAuthStateChange((event, session) => {\n  console.log(\"[Auth Event]\", event);\n  console.log(\"[Session]\", session);\n});\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,WAAW,IAAA,qOAAY;AAKpC,SAAS,IAAI,CAAC,iBAAiB,CAAC,CAAC,OAAO;IACtC,QAAQ,GAAG,CAAC,gBAAgB;IAC5B,QAAQ,GAAG,CAAC,aAAa;AAC3B","debugId":null}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"sources":["file:///Users/karachionwuanibe/Desktop/cs~391/projects/cs391-project2/cs391-project/spark-bytes/frontend/src/lib/useSupabaseSession.ts"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { supabase } from \"./supabaseClient\";\nimport type { Session } from \"@supabase/supabase-js\";\n\nexport function useSupabaseSession() {\n  const [session, setSession] = useState<Session | null>(null);\n\n  useEffect(() => {\n    // Load initial session\n    supabase.auth.getSession().then((res) => {\n      setSession(res.data.session ?? null);\n    });\n\n    // Listen for login/logout events\n    const {\n      data: { subscription },\n    } = supabase.auth.onAuthStateChange(\n      (_event: string, session: Session | null) => {\n        setSession(session);\n      }\n    );\n\n    return () => subscription.unsubscribe();\n  }, []);\n\n  return session;\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;AAMO,SAAS;IACd,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+OAAQ,EAAiB;IAEvD,IAAA,gPAAS,EAAC;QACR,uBAAuB;QACvB,sKAAQ,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,CAAC;YAC/B,WAAW,IAAI,IAAI,CAAC,OAAO,IAAI;QACjC;QAEA,iCAAiC;QACjC,MAAM,EACJ,MAAM,EAAE,YAAY,EAAE,EACvB,GAAG,sKAAQ,CAAC,IAAI,CAAC,iBAAiB,CACjC,CAAC,QAAgB;YACf,WAAW;QACb;QAGF,OAAO,IAAM,aAAa,WAAW;IACvC,GAAG,EAAE;IAEL,OAAO;AACT","debugId":null}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///Users/karachionwuanibe/Desktop/cs~391/projects/cs391-project2/cs391-project/spark-bytes/frontend/src/app/navbar-client.tsx"],"sourcesContent":["\"use client\";\nimport { usePathname } from \"next/navigation\";\nimport Link from \"next/link\";\nimport { useSupabaseSession } from \"@/lib/useSupabaseSession\";\nimport { supabase } from \"@/lib/supabaseClient\"\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\n\nexport default function NavbarClient() {\n  const session = useSupabaseSession();\n  const router = useRouter();\n  const pathname = usePathname();\n\n  const [role, setRole] = useState<string | null>(null);\n  useEffect(() => {\n    async function loadRole() {\n      if (!session) return;\n\n      const { data } = await supabase\n        .from(\"profiles\")\n        .select(\"role\")\n        .eq(\"id\", session.user.id)\n        .single();\n\n      setRole(data?.role ?? null);\n    }\n    loadRole();\n  }, [session]);\n  const isActive = (path: string) =>\n    pathname === path ? \"underline font-semibold\" : \"hover:underline\";\n  useEffect(() => {\n    const {\n      data: { subscription },\n    } = supabase.auth.onAuthStateChange(() => {\n      router.refresh();\n    });\n\n    return () => subscription.unsubscribe();\n  }, [router]);\n  \n  return (\n    <nav className=\"bg-black text-white flex justify-between items-center px-8 py-4\">\n      <span className=\"font-semibold text-lg\">Spark!Bytes</span>\n\n      <div className=\"flex gap-6 items-center\">\n        <Link href=\"/\" className={isActive(\"/\")}>\n          Home\n        </Link>\n\n        <Link href=\"/search\" className={isActive(\"/search\")}>\n          Events\n        </Link>\n\n        {/* If logged in */}\n        {session && (\n          <>\n            <Link\n              href={role === \"admin\" ? \"/create_event\" : \"/request_access\"}\n              className={isActive(role === \"admin\" ? \"/create_event\" : \"/request_access\")}\n            >\n              Create Event\n            </Link>\n\n\n            <Link\n              href=\"/profile_reserve\"\n              className={isActive(\"/profile_reserve\")}\n            >\n              My Events\n            </Link>\n          </>\n        )}\n        {session && (\n        <Link\n            href=\"/profile_page\"\n            className={pathname === \"/profile_page\" ? \"underline font-semibold\" : \"\"}\n        >\n            Profile\n        </Link>\n        )}\n        {/* Admin-only: View pending access requests */}\n        {session && role === \"admin\" && (\n          <Link\n            href=\"/admin/requests\"\n            className={isActive(\"/admin/requests\")}\n          >\n            Admin Requests\n          </Link>\n        )}\n\n        {/* Auth link */}\n        {session ? (\n          <Link href=\"/log_out\" className={isActive(\"/log_out\")}>\n            Logout\n          </Link>\n        ) : (\n          <Link href=\"/login\" className={isActive(\"/login\")}>\n            Login\n          </Link>\n        )}\n      </div>\n    </nav>\n  );\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AALA;;;;;;;;AAQe,SAAS;IACtB,MAAM,UAAU,IAAA,oLAAkB;IAClC,MAAM,SAAS,IAAA,6KAAS;IACxB,MAAM,WAAW,IAAA,+KAAW;IAE5B,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+OAAQ,EAAgB;IAChD,IAAA,gPAAS,EAAC;QACR,eAAe;YACb,IAAI,CAAC,SAAS;YAEd,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,sKAAQ,CAC5B,IAAI,CAAC,YACL,MAAM,CAAC,QACP,EAAE,CAAC,MAAM,QAAQ,IAAI,CAAC,EAAE,EACxB,MAAM;YAET,QAAQ,MAAM,QAAQ;QACxB;QACA;IACF,GAAG;QAAC;KAAQ;IACZ,MAAM,WAAW,CAAC,OAChB,aAAa,OAAO,4BAA4B;IAClD,IAAA,gPAAS,EAAC;QACR,MAAM,EACJ,MAAM,EAAE,YAAY,EAAE,EACvB,GAAG,sKAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC;YAClC,OAAO,OAAO;QAChB;QAEA,OAAO,IAAM,aAAa,WAAW;IACvC,GAAG;QAAC;KAAO;IAEX,qBACE,4QAAC;QAAI,WAAU;;0BACb,4QAAC;gBAAK,WAAU;0BAAwB;;;;;;0BAExC,4QAAC;gBAAI,WAAU;;kCACb,4QAAC,qMAAI;wBAAC,MAAK;wBAAI,WAAW,SAAS;kCAAM;;;;;;kCAIzC,4QAAC,qMAAI;wBAAC,MAAK;wBAAU,WAAW,SAAS;kCAAY;;;;;;oBAKpD,yBACC;;0CACE,4QAAC,qMAAI;gCACH,MAAM,SAAS,UAAU,kBAAkB;gCAC3C,WAAW,SAAS,SAAS,UAAU,kBAAkB;0CAC1D;;;;;;0CAKD,4QAAC,qMAAI;gCACH,MAAK;gCACL,WAAW,SAAS;0CACrB;;;;;;;;oBAKJ,yBACD,4QAAC,qMAAI;wBACD,MAAK;wBACL,WAAW,aAAa,kBAAkB,4BAA4B;kCACzE;;;;;;oBAKA,WAAW,SAAS,yBACnB,4QAAC,qMAAI;wBACH,MAAK;wBACL,WAAW,SAAS;kCACrB;;;;;;oBAMF,wBACC,4QAAC,qMAAI;wBAAC,MAAK;wBAAW,WAAW,SAAS;kCAAa;;;;;6CAIvD,4QAAC,qMAAI;wBAAC,MAAK;wBAAS,WAAW,SAAS;kCAAW;;;;;;;;;;;;;;;;;;AAO7D","debugId":null}}]
}